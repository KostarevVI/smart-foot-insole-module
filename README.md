# Insole Modules
Модули программно-аппаратного комплекса для реабилитации пациентов с нарушением координации.

Разработано в рамках написания ВКР для степени магистра.

## Основная информация
В данном репозитории хранятся прошивки, написанные в Arduino IDE для микроконтроллера ESP32. 

Папка `SmartFootInsoleModulesTest` 
содержит прошивку для тестирования работоспособности датчиков и моторов комплекса.

Папка `SmartInsolesBle` содержит прошивку, использующую Bluetooth Low Energy (BLE) для передачи данных через сревисы и характеристики.
В текущей реализации левый модуль-стелька всегда является сервером, а правый – клиентом.

Все настройки модулей вынесены в файл config.h в каждом из проектов.

## Макетная схема
![image](https://github.com/KostarevVI/smart-foot-insole-module/assets/22761161/6da9f574-b6bc-44f3-8848-509c52ab5611)

Список компонентов для одного модуля:
- ESP32 (1 шт.)
- ERM вибромотор 3в (4 шт.)
- NPN транзитор BC547B (4 шт.)
- FSR сенсор (4 шт.)
- IMU GY-85 (1 шт.)
- Операционный усилитель LM324N (1 шт.)
- Li-Po аккумулятор 3.7в (1 шт.)
- Стабилизатор 3.3в TPS63031 (1 шт.)
- Модуль контроля заряда аккумулятора TP4056 (1 шт.)
- Резистор 10кОм (4 шт.)
- Резистор 100кОм (1 шт.)
- Переключатель двухпозиционный (1 шт.)

## Схематическое представление BLE сервисов и характеристик
![ma_diploma-BLE Services](https://github.com/KostarevVI/smart-foot-insole-module/assets/22761161/4925617f-a136-4f0d-9cee-41c2686da7bd)

## Использование
1. Собрать устройство по схеме выше
2. Открыть проект в Arduino IDE, установить необходимые зависимости
3. Залить прошивку в ESP32
